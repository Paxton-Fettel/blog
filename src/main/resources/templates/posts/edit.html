<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" />
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
    <title>Edit Post</title>
</head>
<body class="bg-dark text-light py-4">

<div class="container" style="max-width: 480px; border-left: 5px solid orange; padding-left: 1rem;">
    <h1 class="mb-4 text-warning">Edit post</h1>

    <form th:action="@{/posts/edit/{id}(id=${post.id})}" method="post" th:object="${post}" enctype="multipart/form-data" class="d-flex flex-column gap-3">

        <label for="title" class="form-label text-warning">Title:</label>
        <input id="title" type="text" th:field="*{title}" class="form-control bg-dark text-light border-warning" />

        <label for="content" class="form-label text-warning">Content:</label>
        <input type="text" id="content" th:field="*{content}" class="form-control bg-dark text-light border-warning" />

        <label for="category" class="form-label text-warning">Category:</label>
        <select id="category" th:field="*{category}" class="form-select bg-dark text-light border-warning">
            <option th:each="category : ${categories}" th:text="${category.name}" th:value="${category.id}"></option>
        </select>

        <label class="form-label text-warning">Current Image:</label>
        <img th:src="${post.imageUrl}" th:alt="${post.title} + ' image'" class="img-fluid rounded mb-3" style="max-height: 350px; width: auto;" />

        <label for="imageFile" class="form-label text-warning">Change Image:</label>
        <input type="file" id="imageFile" name="imageFile" class="form-control bg-dark text-light border-warning" />

        <button type="submit" class="btn btn-warning fw-bold mt-3">Update Post</button>
    </form>

    <a th:href="@{/posts/{id}(id=${post.id})}" class="btn btn-outline-light mt-3 d-inline-block">Back to post</a>
</div>

<script th:src="@{/js/bootstrap.bundle.js}"></script>
</body>
</html>
