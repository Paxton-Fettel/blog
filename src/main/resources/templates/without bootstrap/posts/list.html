<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0">
    <title>Posts</title>
</head>
<body>

    <p th:text="'Hello ' + ${#authentication.name}">Hello Username</p>
    <h1>Posts</h1>
    <div th:each="post : ${posts}">
        <p th:text="${post.title}">Title</p>
        <p th:text="${post.content}">Content</p>
        <p th:text="${post.author.username}">Author</p>
        <p th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">Created At...</p>
        <img th:src="@{${post.imageUrl}}" alt="post image" width="100" height="70">
        <a th:href="@{/posts/{id}(id=${post.id})}">View Post</a>
        <hr>
    </div>

    <div>
        <a th:if="${posts.hasPrevious()}" th:href="@{/posts(page=${posts.number - 1})}">Previous</a>

        <span th:each="i : ${#numbers.sequence(0, posts.totalPages - 1)}">
            <a th:href="@{/posts(page=${i})}" th:text="${i + 1}">Page Number</a>
        </span>

        <a th:if="${posts.hasNext()}" th:href="@{/posts(page=${posts.number + 1})}">Next</a>
    </div>

    <a th:href="@{/posts/create}">Create a new post</a>
    <a th:href="@{/auth/logout}">Logout</a>

</body>
</html>